{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\kueny\\\\Documents\\\\planet\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\kueny\\\\Documents\\\\planet\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import*as THREE from\"three\";import{GLTFLoader}from'https://cdn.jsdelivr.net/npm/three/examples/jsm/loaders/GLTFLoader.js';import{OrbitControls}from\"https://cdn.jsdelivr.net/npm/three/examples/jsm/controls/OrbitControls.js\";import{Satalite}from'/Satalite.js';/**\r\n * Provides requestAnimationFrame in a cross browser way.\r\n * @author paulirish / http://paulirish.com/\r\n */if(!window.requestAnimationFrame){window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(/* function FrameRequestCallback */callback,/* DOMElement Element */element){window.setTimeout(callback,1000/60);};}();}var container,stats;var camera,scene,renderer,controls,raycaster;var mouse=new THREE.Vector2(),INTERSECTED;var dictionary;var sphere,earth,salatites,plane;var targetRotationX=0.5;var targetRotationOnMouseDownX=0;var targetRotationY=0.2;var targetRotationOnMouseDownY=0;var mouseX=0;var mouseXOnMouseDown=0;var mouseY=0;var mouseYOnMouseDown=0;var windowHalfX=window.innerWidth/2;var windowHalfY=window.innerHeight/2;var slowingFactor=0.25;document.addEventListener('mousewheel',function(event){camera.position.z+=event.deltaY/50;});await init();animate();function loadWorld(){return _loadWorld.apply(this,arguments);}function _loadWorld(){_loadWorld=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var loader,earthData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:loader=new GLTFLoader();_context.next=3;return loader.loadAsync('/assets/scene.gltf');case 3:earthData=_context.sent;//console.log(earthData);\nearthData=setupModel(earthData);//console.log(earthData);\nreturn _context.abrupt(\"return\",earthData);case 6:case\"end\":return _context.stop();}}},_callee);}));return _loadWorld.apply(this,arguments);}function init(){return _init.apply(this,arguments);}function _init(){_init=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var geometry,texture,material,city_list,i,temp_satalite;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:container=document.createElement('div');document.body.appendChild(container);raycaster=new THREE.Raycaster();renderer=new THREE.WebGLRenderer({antialias:true});renderer.setSize(window.innerWidth,window.innerHeight);renderer.domElement.addEventListener(\"click\",onclick,true);//renderer.setClearColor( 0x00cccc, 0);\ncontainer.appendChild(renderer.domElement);document.addEventListener('mousedown',onDocumentMouseDown,false);scene=new THREE.Scene();scene.background=new THREE.Color(0x00cccc);camera=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,1000);//console.log(camera);\ncamera.position.y=0;camera.position.z=100;// camera.rotation.x = 0;\n// camera.rotation.y = 0;\n// camera.rotation.z = 0;\n//console.log(renderer);\ncontrols=new OrbitControls(camera,renderer.domElement);scene.add(camera);geometry=new THREE.SphereGeometry(50,32,16);//var material = new THREE.MeshBasicMaterial( { color: \"#166294\" } );\ntexture=new THREE.TextureLoader().load('/assets/textures/Earth.002_diffuse.jpeg');material=new THREE.MeshBasicMaterial({map:texture});sphere=new THREE.Mesh(geometry,material);sphere.name='Earth';//log calcrow\n_context2.next=22;return fetch(\"/assets/json/sample.json\").then(function(response){return response.json();});case 22:city_list=_context2.sent;dictionary=[];for(i=0;i<100;i++){temp_satalite=new Satalite();temp_satalite.SatByCart(city_list[i].x,-1*city_list[i].y,city_list[i].z);temp_satalite.satalite.name=city_list[i].city;scene.add(temp_satalite.satalite);//temp_satalite.statlite.on('click',function(ev) {});\n//console.log(temp_satalite.satalite);\n}controls.addEventListener('change',render);scene.add(sphere);plane=new THREE.Mesh(new THREE.PlaneGeometry(200,200),new THREE.MeshBasicMaterial({color:0xe0e0e0}));//plane.rotation.x = - 90 * ( Math.PI / 180 );\nplane.overdraw=true;case 29:case\"end\":return _context2.stop();}}},_callee2);}));return _init.apply(this,arguments);}function onDocumentMouseDown(event){event.preventDefault();document.addEventListener('mousemove',onDocumentMouseMove,false);document.addEventListener('mouseup',onDocumentMouseUp,false);document.addEventListener('mouseout',onDocumentMouseOut,false);mouseXOnMouseDown=event.clientX-windowHalfX;targetRotationOnMouseDownX=targetRotationX;mouseYOnMouseDown=event.clientY-windowHalfY;targetRotationOnMouseDownY=targetRotationY;}function onDocumentMouseMove(event){mouseX=event.clientX-windowHalfX;targetRotationX=(mouseX-mouseXOnMouseDown)*0.00025;mouseY=event.clientY-windowHalfY;targetRotationY=(mouseY-mouseYOnMouseDown)*0.00025;}function onDocumentMouseUp(event){document.removeEventListener('mousemove',onDocumentMouseMove,false);document.removeEventListener('mouseup',onDocumentMouseUp,false);document.removeEventListener('mouseout',onDocumentMouseOut,false);}function onDocumentMouseOut(event){document.removeEventListener('mousemove',onDocumentMouseMove,false);document.removeEventListener('mouseup',onDocumentMouseUp,false);document.removeEventListener('mouseout',onDocumentMouseOut,false);}function animate(){requestAnimationFrame(animate);render();}function render(){targetRotationY=targetRotationY*(1-slowingFactor);targetRotationX=targetRotationX*(1-slowingFactor);//console.log(camera);\nraycaster.setFromCamera(mouse,camera);var intersects=raycaster.intersectObjects(scene.children);if(intersects.length>0){if(INTERSECTED!=intersects[0].object){// if ( INTERSECTED ) INTERSECTED.material.emissive.setHex( INTERSECTED.currentHex );\nINTERSECTED=intersects[0].object;// INTERSECTED.currentHex = INTERSECTED.material.emissive.getHex();\nconsole.log(intersects);}}renderer.render(scene,camera);}","map":{"version":3,"sources":["C:/Users/kueny/Documents/planet/src/index.js"],"names":["THREE","GLTFLoader","OrbitControls","Satalite","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","container","stats","camera","scene","renderer","controls","raycaster","mouse","Vector2","INTERSECTED","dictionary","sphere","earth","salatites","plane","targetRotationX","targetRotationOnMouseDownX","targetRotationY","targetRotationOnMouseDownY","mouseX","mouseXOnMouseDown","mouseY","mouseYOnMouseDown","windowHalfX","innerWidth","windowHalfY","innerHeight","slowingFactor","document","addEventListener","event","position","z","deltaY","init","animate","loadWorld","loader","loadAsync","earthData","setupModel","createElement","body","appendChild","Raycaster","WebGLRenderer","antialias","setSize","domElement","onclick","onDocumentMouseDown","Scene","background","Color","PerspectiveCamera","y","add","geometry","SphereGeometry","texture","TextureLoader","load","material","MeshBasicMaterial","map","Mesh","name","fetch","then","response","json","city_list","i","temp_satalite","SatByCart","x","satalite","city","render","PlaneGeometry","color","overdraw","preventDefault","onDocumentMouseMove","onDocumentMouseUp","onDocumentMouseOut","clientX","clientY","removeEventListener","setFromCamera","intersects","intersectObjects","children","length","object","console","log"],"mappings":"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","sourcesContent":["\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three/examples/jsm/loaders/GLTFLoader.js';\r\nimport {OrbitControls} from \"https://cdn.jsdelivr.net/npm/three/examples/jsm/controls/OrbitControls.js\";\r\nimport {Satalite} from '/Satalite.js';\r\n\r\n/**\r\n * Provides requestAnimationFrame in a cross browser way.\r\n * @author paulirish / http://paulirish.com/\r\n */\r\n\r\nif (!window.requestAnimationFrame) {\r\n\r\n  window.requestAnimationFrame = (function() {\r\n\r\n    return window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      window.msRequestAnimationFrame ||\r\n      function( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\r\n\r\n        window.setTimeout(callback, 1000 / 60);\r\n\r\n      };\r\n\r\n  })();\r\n\r\n}\r\n   var container, stats;\r\n\r\n            var camera, scene, renderer, controls, raycaster\r\n            var mouse = new THREE.Vector2(),\r\n                INTERSECTED;\r\n            var dictionary;\r\n            var sphere, earth, salatites, plane;\r\n\r\n            var targetRotationX = 0.5;\r\n            var targetRotationOnMouseDownX = 0;\r\n\r\n            var targetRotationY = 0.2;\r\n            var targetRotationOnMouseDownY = 0;\r\n\r\n            var mouseX = 0;\r\n            var mouseXOnMouseDown = 0;\r\n\r\n            var mouseY = 0;\r\n            var mouseYOnMouseDown = 0;\r\n\r\n\r\n\r\n            var windowHalfX = window.innerWidth / 2;\r\n            var windowHalfY = window.innerHeight / 2;\r\n\r\n            var slowingFactor = 0.25;\r\n            document.addEventListener( 'mousewheel', (event) => {\r\n              camera.position.z +=event.deltaY/50;\r\n            });\r\n            await init();\r\n\r\n            animate();\r\n\r\n\r\n            async function loadWorld() {\r\n\r\n\r\n              const loader = new GLTFLoader();\r\n\r\n              var earthData  = await loader.loadAsync('/assets/scene.gltf');\r\n              //console.log(earthData);\r\n              earthData = setupModel(earthData);\r\n              //console.log(earthData);\r\n              return earthData;\r\n            }\r\n\r\n            async function init() {\r\n\r\n                container = document.createElement( 'div' );\r\n                document.body.appendChild( container );\r\n\r\n                raycaster = new THREE.Raycaster();\r\n                renderer = new THREE.WebGLRenderer({\r\n                    antialias: true\r\n                });\r\n\r\n                renderer.setSize( window.innerWidth, window.innerHeight );\r\n                renderer.domElement.addEventListener(\"click\", onclick, true);\r\n\r\n\r\n                //renderer.setClearColor( 0x00cccc, 0);\r\n                container.appendChild( renderer.domElement );\r\n                document.addEventListener( 'mousedown', onDocumentMouseDown, false );\r\n\r\n                scene = new THREE.Scene();\r\n                scene.background = new THREE.Color( 0x00cccc );\r\n\r\n                camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );\r\n                //console.log(camera);\r\n                camera.position.y = 0;\r\n                camera.position.z = 100;\r\n\r\n                // camera.rotation.x = 0;\r\n                // camera.rotation.y = 0;\r\n                // camera.rotation.z = 0;\r\n                //console.log(renderer);\r\n                controls = new OrbitControls(camera, renderer.domElement);\r\n\r\n\r\n                scene.add( camera );\r\n\r\n                var geometry = new THREE.SphereGeometry( 50, 32, 16);\r\n                //var material = new THREE.MeshBasicMaterial( { color: \"#166294\" } );\r\n                const texture = new THREE.TextureLoader().load( '/assets/textures/Earth.002_diffuse.jpeg' );\r\n                const material = new THREE.MeshBasicMaterial( { map: texture } );\r\n                sphere = new THREE.Mesh( geometry, material );\r\n                sphere.name = 'Earth'\r\n                //log calcrow\r\n\r\n                var city_list = await fetch(\"/assets/json/sample.json\")\r\n                  .then(response => {\r\n                     return response.json();\r\n                  })\r\n                  dictionary =[];\r\n                  for (var i=0; i<100; i++) {\r\n                    var temp_satalite = new Satalite();\r\n                    temp_satalite.SatByCart(city_list[i].x, -1*city_list[i].y, city_list[i].z);\r\n                    temp_satalite.satalite.name = city_list[i].city;\r\n                    scene.add( temp_satalite.satalite );\r\n\r\n                    //temp_satalite.statlite.on('click',function(ev) {});\r\n                    //console.log(temp_satalite.satalite);\r\n                  }\r\n\r\n                controls.addEventListener( 'change', render);\r\n                scene.add( sphere );\r\n\r\n\r\n\r\n\r\n                plane = new THREE.Mesh( new THREE.PlaneGeometry( 200, 200 ), new THREE.MeshBasicMaterial( { color: 0xe0e0e0 } ) );\r\n                //plane.rotation.x = - 90 * ( Math.PI / 180 );\r\n                plane.overdraw = true;\r\n            }\r\n\r\n            function onDocumentMouseDown( event ) {\r\n\r\n                event.preventDefault();\r\n\r\n                document.addEventListener( 'mousemove', onDocumentMouseMove, false );\r\n                document.addEventListener( 'mouseup', onDocumentMouseUp, false );\r\n                document.addEventListener( 'mouseout', onDocumentMouseOut, false );\r\n\r\n                mouseXOnMouseDown = event.clientX - windowHalfX;\r\n                targetRotationOnMouseDownX = targetRotationX;\r\n\r\n                mouseYOnMouseDown = event.clientY - windowHalfY;\r\n                targetRotationOnMouseDownY = targetRotationY;\r\n            }\r\n\r\n            function onDocumentMouseMove( event ) {\r\n\r\n                mouseX = event.clientX - windowHalfX;\r\n\r\n                targetRotationX = ( mouseX - mouseXOnMouseDown ) * 0.00025;\r\n\r\n                mouseY = event.clientY - windowHalfY;\r\n\r\n                targetRotationY = ( mouseY - mouseYOnMouseDown ) * 0.00025;\r\n            }\r\n            function onDocumentMouseUp( event ) {\r\n                document.removeEventListener( 'mousemove', onDocumentMouseMove, false );\r\n                document.removeEventListener( 'mouseup', onDocumentMouseUp, false );\r\n                document.removeEventListener( 'mouseout', onDocumentMouseOut, false );\r\n            }\r\n            function onDocumentMouseOut( event ) {\r\n                document.removeEventListener( 'mousemove', onDocumentMouseMove, false );\r\n                document.removeEventListener( 'mouseup', onDocumentMouseUp, false );\r\n                document.removeEventListener( 'mouseout', onDocumentMouseOut, false );\r\n            }\r\n            function animate() {\r\n                requestAnimationFrame( animate );\r\n                render();\r\n            }\r\n\r\n            function render() {\r\n\r\n                targetRotationY = targetRotationY * (1 - slowingFactor);\r\n                targetRotationX = targetRotationX * (1 - slowingFactor);\r\n                //console.log(camera);\r\n                raycaster.setFromCamera(mouse, camera);\r\n                var intersects = raycaster.intersectObjects(scene.children);\r\n                if (intersects.length > 0) {\r\n                    if (INTERSECTED != intersects[0].object) {\r\n                        // if ( INTERSECTED ) INTERSECTED.material.emissive.setHex( INTERSECTED.currentHex );\r\n                        INTERSECTED = intersects[0].object;\r\n                        // INTERSECTED.currentHex = INTERSECTED.material.emissive.getHex();\r\n                        console.log(intersects);\r\n                    }\r\n                }\r\n                renderer.render( scene, camera );\r\n\r\n            }\r\n"]},"metadata":{},"sourceType":"module"}